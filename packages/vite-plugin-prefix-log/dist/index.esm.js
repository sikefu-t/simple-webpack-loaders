var b=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var k=b((W,g)=>{const{parse:L}=require("@babel/parser"),S=require("@babel/traverse").default,$=require("@babel/generator").default,t=require("@babel/types"),q=require("@babel/core"),a={success:"background-color: #f0f9eb;border: 1px solid #c2e7b0;padding: 0px 5px;color: #67c23a;font-size: 14px;",info:"background-color: #f4f4f5;border: 1px solid #d3d4d6;padding: 0px 5px;color: #909399;font-size: 14px;",warning:"background-color: #fdf6ec;border: 1px solid #f5dab1;padding: 0px 5px;color: #e6a23c;font-size: 14px;",danger:"background-color: #fef0f0;border: 1px solid #fbc4c4;padding: 0px 5px;color: #f56c6c;font-size: 14px;"};function v(e={}){return{name:"vite-plugin-prefix-log",transform(n,p){if(!p.endsWith(".js"))return null;const o={type:a[e.type]||a.info,textWrap:e.textWrap||!1,customStyle:e.customStyle||null};let u=L(n,{sourceType:"module",plugins:["dynamicImport"]});S(u,{CallExpression(r){if(I(r.node)){const s=$(r.node).code;let l=null,i=null,c=null;if(r.node.arguments.length>1&&r.node.arguments.at(-1).type==="StringLiteral"&&["success","info","warning","danger"].includes(r.node.arguments.at(-1).value)&&(c=r.node.arguments.at(-1).value),c){r.node.arguments.pop(),i=t.stringLiteral(`${a[c]}`);const y=s.lastIndexOf(",");l=f(s.slice(12,y))}else i=o.customStyle?t.stringLiteral(`${o.customStyle}`):t.stringLiteral(`${o.type}`),l=f(s.slice(12,-1));d(i,r.node.arguments);const x=o.textWrap?t.stringLiteral(`%c${l}
`):t.stringLiteral(`%c${l}`);d(x,r.node.arguments)}}});const{code:m}=q.transformFromAstSync(u,n,{configFile:!1});return{code:m,map:null}}}}function I(e){return t.isMemberExpression(e.callee)&&t.isIdentifier(e.callee.object,{name:"console"})&&t.isIdentifier(e.callee.property,{name:"log"})}function d(e,n){n.unshift(e)}function f(e){return e.replace(/^['"]+|['"]+$/g,"")}g.exports=v});export default k();
